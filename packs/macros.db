{"name":"Whisper someone","type":"script","scope":"global","author":"2SuzKdhQYGGtGNNl","img":"icons/svg/deaf.svg","command":"var users = game.users.contents;\nvar selectOptions = \"\"\nusers.forEach(user => selectOptions += `<option value = \"${user.id}\">${user.name}</option>\\n`);\n\nvar dp = {\n    title: \"Create a WhisperBox\",\n    content: `Pick a user:<select id=\"users\" name=\"users\">${selectOptions}</select>`,\n    //default:\"whisper\",\n    buttons: {\n        whisper: {\n            label: \"Whisper\",\n            callback: () => {\n                let uid = document.getElementById(\"users\").value;\n                let user = game.users.find(user => user.id === uid);\n\n                let name = user.name;\n                if (game.settings.get('WhisperBox', 'showCharacterName')) {\n                    name = user?.character?.name ?? name;\n                }\n\n                WhisperBox.createWhisperBox({name: name, targetUser: uid});\n            }\n        }\n    }\n}\nlet d = new Dialog(dp);\nd.render(true);","ownership":{"default":0,"2SuzKdhQYGGtGNNl":3},"flags":{"core":{"sourceId":"Macro.xHaVLlAV7fCnCr29"},"cf":{"id":null}},"_stats":{"systemId":"splittermond","systemVersion":"0.9.7","coreVersion":"10.288","createdTime":1667254256822,"modifiedTime":1667399731222,"lastModifiedBy":"2SuzKdhQYGGtGNNl"},"folder":null,"sort":0,"_id":"DGGWqwk0aLc1osIB"}
{"name":"Jemandem zuflüstern","type":"script","scope":"global","author":"2SuzKdhQYGGtGNNl","img":"icons/svg/deaf.svg","command":"var users = game.users.contents;\nvar selectOptions = \"\"\nusers.forEach(user => selectOptions += `<option value = \"${user.id}\">${user.name}</option>\\n`);\n\nvar dp = {\n    title: \"WhisperBox erstellen\",\n    content: `Benutzer auswählen:<select id=\"users\" name=\"users\">${selectOptions}</select>`,\n    //default:\"whisper\",\n    buttons: {\n        whisper: {\n            label: \"Flüstern\",\n            callback: () => {\n                let uid = document.getElementById(\"users\").value;\n                let user = game.users.find(user => user.id === uid);\n\n                let name = user.name;\n                if (game.settings.get('WhisperBox', 'showCharacterName')) {\n                    name = user?.character?.name ?? name;\n                }\n\n                WhisperBox.createWhisperBox({name: name, targetUser: uid});\n            }\n        }\n    }\n}\nlet d = new Dialog(dp);\nd.render(true);","ownership":{"default":0,"2SuzKdhQYGGtGNNl":3},"flags":{"core":{"sourceId":"Macro.xHaVLlAV7fCnCr29"}},"_stats":{"systemId":"splittermond","systemVersion":"0.9.7","coreVersion":"10.288","createdTime":1667254256822,"modifiedTime":1667399704851,"lastModifiedBy":"2SuzKdhQYGGtGNNl"},"folder":null,"sort":0,"_id":"InHGfkfq8BOdMDny"}